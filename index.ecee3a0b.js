var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},t=e.parcelRequired7c6;null==t&&((t=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var l={id:e,exports:{}};return n[e]=l,t.call(l.exports,l,l.exports),l.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){o[e]=n},e.parcelRequired7c6=t),t("kyEFX").register(JSON.parse('{"5ZPII":"index.ecee3a0b.js","8OQ7p":"icons.8e27432b.svg","5UbS1":"index.3f0f66e4.css","4l2W5":"index.361309dc.js"}')),t("dTazW"),t("nIDCB");var l=t("2dy3d");l=t("2dy3d");function a(e){const n=e.split("");let o=[];for(let e=0;e<n.length;e++){let t=n[e];" "===t&&(t="%20"),o.push(t)}return o.join("")}function s(e){const n=e.split(" ");return n.slice(0,n.length-1).join(" ")}function i(e){const n=e.split(" ");return n[n.length-1]}(0,($=t("04jNI")).spinnerPlay)(),window.addEventListener("load",(()=>{(0,$.spinnerStop)()}));const r=new(0,l.getBookData),c=document.querySelector(".book-categories"),d=document.querySelector(".categories-list");function m(){const e=document.createElement("li");e.classList.add("category-link"),e.classList.add("all"),e.textContent="All Categories",c.append(e);let n=[];r.getPromCategoryList().then((e=>{n=e.map((e=>`<li class="category-link">${e.list_name}</li>`)).join(""),c.insertAdjacentHTML("beforeend",n);document.querySelector(".all").addEventListener("click",j)})).catch((e=>{console.log(e)}))}c.addEventListener("click",(function(e){(0,$.spinnerPlay)(),e.preventDefault(),console.log(e.target.classList.contains("all")),d.innerHTML="";const n=e.target.innerHTML,o=document.querySelector(".category-link.active");o&&o.classList.remove("active");e.target.classList.add("active");const t=a(`${n}`);let r=[];new(0,l.getBookData)(0,t).getPromCategory().then((o=>{console.log(o),r=o.map((e=>`<div class="book-card">\n              <img class="book-image" src="${e.book_image}" alt="${e.title}">\n              <h2 class="book_name">${e.title.slice(0,20)}${e.title.length>20?"...":""}</h2>\n              <p class="book_author">${e.author.slice(0,30)}${e.author.length>30?"...":""}</p>\n            </div>`)).join(""),d.insertAdjacentHTML("beforeend",r);const t=document.querySelector(".main-title__first-part"),l=document.querySelector(".main-title__second-part");e.target.classList.contains("all")?(t.textContent="Best Sellers",l.textContent="Books"):(t.textContent=s(n),l.textContent=i(n))})).catch((e=>{console.log(e)})),(0,$.spinnerStop)()}));l=t("2dy3d");(0,($=t("04jNI")).spinnerPlay)(),window.addEventListener("load",(()=>{(0,$.spinnerStop)()}));const u=document.querySelector(".categories-list");function g(){const e=document.querySelectorAll(".btn-see-more");function n(e){(0,$.spinnerPlay)(),e.preventDefault(),u.innerHTML="";const n=e.target.id,o=a(`${n}`);console.log(o);let t=[];new(0,l.getBookData)(0,o).getPromCategory().then((e=>{console.log(e),t=e.map((e=>`<div class="book-card">\n              <img class="book-image" src="${e.book_image}" alt="${e.title}">\n              <h2 class="book_name">${e.title.slice(0,20)}${e.title.length>20?"...":""}</h2>\n              <p class="book_author">${e.author.slice(0,30)}${e.author.length>30?"...":""}</p>\n            </div>`)).join(""),u.insertAdjacentHTML("beforeend",t);const o=document.querySelector(".main-title__first-part"),l=document.querySelector(".main-title__second-part");o.textContent=s(n),l.textContent=i(n)})).catch((e=>{console.log(e)})),(0,$.spinnerStop)()}console.log(e),e.forEach((e=>{e.addEventListener("click",n)}))}var p=t("dLm4j");let b=new(0,(l=t("2dy3d")).getBookData);var _;_=new URL(t("kyEFX").resolve("8OQ7p"),import.meta.url).toString();const k=new URL(_),h=document.querySelector(".modal-container"),v=document.querySelector(".modal-backdrop");function f(e){if(""!==e)return e;return"No more information about this book"}function y(e){const n=e.currentTarget.id;var o;checkLocalStorage(n),o=n,console.log(o),v.classList.remove("is-hidden"),b=new(0,l.getBookData)(o),h.innerHTML="",b.getPromId().then((e=>{function n(n){const o=e.buy_links;for(let e=0;e<o.length;e+=1){if(o[e].name===`${n}`)return o[e].url;o[e].name}}console.log(e),h.innerHTML=`\n       <div class="modal-close__btn-wrapper">\n      <button type='button' class='modal-close-btn close'>\n     <svg class="close" fill="none" width="30" height="30">\n          <use href="${k}#icon-x-close"></use>\n</svg>\n    \n       <path d="m8 8 14 14M8 22 22 8" stroke="#000" stroke-width="2" />\n   </svg>\n      </button>\n      </div>\n      <div class ='modal-book'>\n      <div class='modal-book__img-container'>\n        <img class='modal-book__img' src=${f(e.book_image)} \n        alt=${f(e.title)}/>\n        </div>\n        <div class='modal-book__description'>\n        <h2 class="modal-book__title">${f(e.title)}</h2>\n        <p class ="modal-book__author">${f(e.author)}</p>\n        <p class ="modal-book__about">\n      \n        ${f(e.description)}</p>\n        \n       <div class = 'modal-book__stores'>\n\n      <div class="modal-book__amazon">\n       <a class="amazon__link link"\n       href="${n("Amazon")}"  \n   target="_blank"\n   rel="noopener noreferrer"\n   aria-label="amazon icon"\n   >\n  \n   <svg class="book" fill="none" width="60" height="60">\n          <use href="${k}#icon-amazon-ar21"></use>\n</svg>\n\n   </a>\n       </div>\n       <div class ="modal-book__applebook">\n       <a class="applebook__link link"\n       href="${n("Apple Books")}"  \n   target="_blank"\n   rel="noopener noreferrer"\n   aria-label="Apple Book icon"\n   >\n       <svg class="book"  width="30" height="30" fill="none">\n       <use href="${k}#icon-apple-ibooks"></use> \n       </svg>\n       </a>\n   </div>\n\n       <div class ="modal-book__bookshop">\n       <a class="bookshop__link link"\n       href="${n("Bookshop")}"  \n   target="_blank"\n   rel="noopener noreferrer"\n   aria-label="Bookshop icon"\n   >\n       <svg class="book"  width="40" height="40">\n              <use href="${k}#icon-14008711"></use>\n       </svg>\n       </a>\n       </div>\n       </div>\n       </div>\n       </div>\n       <div  class="modal-book__add__wrapper">  \n       <button type="button" class="modal-book__button" id="${e.id}"></button>  \n   </div>  \n        `,console.log(h.innerHTML),document.querySelector(".modal-close-btn").addEventListener("click",closeBtn),document.querySelector(".modal-book__button")})).catch((e=>{console.log(e)}))}var $;console.log([]),v.addEventListener("click",(e=>{e.target.classList.contains("modal-backdrop")&&closeBtn()})),window.addEventListener("keydown",(e=>{"Escape"==e.code&&closeBtn()})),(0,($=t("04jNI")).spinnerPlay)(),window.addEventListener("load",(()=>{(0,$.spinnerStop)()}));const w=new(0,l.getBookData),S=document.querySelector(".main-title__first-part"),L=document.querySelector(".main-title__second-part"),E=document.querySelector(".categories-list");function j(){(0,$.spinnerPlay)(),S.textContent="Best Sellers",L.textContent="Books";let e=[];w.getPromTopBooks().then((n=>{e=n.slice(0,4).map((e=>{const n=e.books.map((e=>`<li class="books-list__item">\n            <div class="item-wrap" id="${e._id}">\n             <div class = "item-img__wrap">\n               <img class="item-img"\n                src="${e.book_image}" \n                alt="book cover photo" \n                width ="${e.book_image_width}" \n                height ="${e.book_image_height}"\n               />\n              </div>\n              <div class="item-title__wrap">\n                <h3 class="item__name">${e.title.slice(0,30)}${e.title.length>30?"...":""}</h3>\n                <p class="item__author">${e.author}</p>\n              </div>\n            </div>\n          </li>`)).join("");return`<li class="categories-list__item">\n                 <div class="categories-list__wrap">\n                   <h2 class="category">${e.list_name}</h2>\n                   <ul class="books-list">${n}</ul>\n                   <button class="btn-see-more" id="${e.list_name}" type="button">see more</button>\n                 </div>\n                </li>`}));const o=e.join("");E.insertAdjacentHTML("beforeend",o),m(),g(),(0,p.getObject)();document.querySelectorAll(".item-wrap").forEach((e=>{e.addEventListener("click",y)}))})).catch((e=>{console.log(e)})),(0,$.spinnerStop)()}j(),t("04jNI"),t("7RDlp"),t("dLm4j");localStorage.setItem("arrey",JSON.stringify(["643282b2e85766588626a144","643282b2e85766588626a0f2","643282b3e85766588626a194","643282b2e85766588626a144","643282b2e85766588626a0f2","643282b3e85766588626a194"]));
//# sourceMappingURL=index.ecee3a0b.js.map
