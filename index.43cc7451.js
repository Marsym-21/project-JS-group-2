!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in t){var o=t[e];delete t[e];var a={id:e,exports:{}};return n[e]=a,o.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){t[e]=n},e.parcelRequired7c6=o),o("iE7OH").register(JSON.parse('{"EVgbq":"index.43cc7451.js","410VS":"icons.f4338761.svg","5UbS1":"index.56f9fc1d.css","cfiU8":"index.91a8cb25.js"}')),o("xpKCW"),o("cXIps");var a=o("hUz67");a=o("hUz67");function i(e){for(var n=e.split(""),t=[],o=0;o<n.length;o++){var a=n[o];" "===a&&(a="%20"),t.push(a)}return t.join("")}function c(e){var n=e.split(" ");return n.slice(0,n.length-1).join(" ")}function s(e){var n=e.split(" ");return n[n.length-1]}var l,r=o("j1lrD"),d=(a=o("hUz67"),r=o("j1lrD"),o("kmL1J")),u=new(0,a.getBookData);l=o("aNJCr").getBundleURL("EVgbq")+o("iE7OH").resolve("410VS");var m=new URL(l),p=document.querySelector(".modal-container"),v=document.querySelector(".modal-backdrop"),g=document.querySelector("body"),_=[],f=[];function k(e){if(""!==e)return e;return"No more information about this book"}function b(e){var n,t,o=e.currentTarget.id;n=localStorage.getItem("id"),t=JSON.parse(n),f=t?_.concat(t):[],function(e){function n(){return f.includes(e)?"Remove from the shopping list":"Add to shopping list"}(0,r.spinnerPlay)(),v.classList.remove("is-hidden"),g.classList.add("modal-open"),u=new(0,a.getBookData)(e),p.innerHTML="",u.getPromId().then((function(t){function o(e){for(var n=t.buy_links,o=0;o<n.length;o+=1){if(n[o].name==="".concat(e))return n[o].url;n[o].name,"".concat(e)}}p.innerHTML='\n      \n      <button type=\'button\' class=\'modal-close-btn close\'>\n     <svg class="close-svg" fill="none" width="30" height="30">\n          <use href="'.concat(m,"#icon-close-black\"></use>\n</svg>\n      </button>\n         <div class ='modal-book'>\n      <div class='modal-book__img-container'>\n        <img class='modal-book__img' src=").concat(k(t.book_image)," \n        alt=").concat(k(t.title),"/>\n        </div>\n        <div class='modal-book__description'>\n        <h2 class=\"modal-book__title\">").concat(k(t.title),'</h2>\n        <p class ="modal-book__author">').concat(k(t.author),'</p>\n        <p class ="modal-book__about">\n      \n        ').concat(k(t.description),'</p>\n        \n       <div class = \'modal-book__stores\'>\n\n      <div class="modal-book__amazon">\n       <a class="amazon__link link"\n       href="').concat(o("Amazon"),'"  \n   target="_blank"\n   rel="noopener noreferrer"\n   aria-label="amazon icon"\n   >\n  \n   <svg class="book-svg" fill="none" width="60" height="60">\n          <use href="').concat(m,'#icon-amazon-ar21"></use>\n</svg>\n\n   </a>\n       </div>\n       <div class ="modal-book__applebook">\n       <a class="applebook__link link"\n       href="').concat(o("Apple Books"),'"  \n   target="_blank"\n   rel="noopener noreferrer"\n   aria-label="Apple Book icon"\n   >\n       <svg class="book-svg yellow-book"  width="30" height="30" fill="none">\n       <use href="').concat(m,'#icon-apple-ibooks"></use> \n       </svg>\n       </a>\n   </div>\n\n       <div class ="modal-book__bookshop">\n       <a class="bookshop__link link"\n       href="').concat(o("Bookshop"),'"  \n   target="_blank"\n   rel="noopener noreferrer"\n   aria-label="Bookshop icon"\n   >\n       <svg class="book-svg black-book"  width="30" height="30">\n              <use href="').concat(m,'#icon-14008711"></use>\n       </svg>\n       </a>\n       </div>\n       </div>\n       </div>\n       </div>\n       <div  class="modal-book__add__wrapper">  \n       <button type="button" class="modal-book__button">').concat(n(),"</button>  \n   </div>  \n        ");var a=document.querySelector(".modal-close-btn"),i=document.querySelector(".modal-book__button");function c(){if(f.includes(e)){var t=f.indexOf(e);f.splice(t,1);var o=JSON.stringify(f);return i.textContent="".concat(n()),void localStorage.setItem("id",o)}f.push(e),i.textContent="".concat(n());var a=JSON.stringify(f);localStorage.setItem("id",a)}function s(){v.classList.add("is-hidden"),g.classList.remove("modal-open"),i.removeEventListener("click",c)}i.addEventListener("click",c),(0,d.getObjectModal)(),a.addEventListener("click",s),v.addEventListener("click",(function(e){e.target.classList.contains("modal-backdrop")&&s()})),window.addEventListener("keydown",(function(e){"Escape"==e.code&&s()}))})).catch((function(e){console.log(e.message)})),(0,r.spinnerStop)()}(o)}d=o("kmL1J");(0,r.spinnerPlay)(),window.addEventListener("load",(function(){(0,r.spinnerStop)()}));var h=new(0,a.getBookData),y=document.querySelector(".book-categories"),w=document.querySelector(".categories-list");function L(){var e=document.createElement("li");e.classList.add("category-link"),e.classList.add("all"),e.classList.add("active"),e.textContent="All Categories",y.append(e);var n=[];h.getPromCategoryList().then((function(e){n=e.map((function(e){return'<li class="category-link">'.concat(e.list_name,"</li>")})).join(""),y.insertAdjacentHTML("beforeend",n),document.querySelector(".all").addEventListener("click",B),document.querySelectorAll(".category-link").forEach((function(e){e.addEventListener("click",S)}))})).catch((function(e){console.log(e.message)}))}function S(e){(0,r.spinnerPlay)(),e.preventDefault(),w.innerHTML="";var n=e.target.innerHTML;e.target.classList.contains("all")||w.classList.add("cards-markup");var t=document.querySelector(".category-link.active");t&&t.classList.remove("active"),e.target.classList.add("active");var o=i("".concat(n)),l=[];new(0,a.getBookData)(0,o).getPromCategory().then((function(t){console.log(t),l=t.map((function(e){return'<li class="books-list__item" id="'.concat(e._id,'">\n            <div class = "item-img__wrap">\n              <img class="item-img" src="').concat(e.book_image,'" alt="').concat(e.title,'">\n            <div class="item__overlay">\n            \n                <p class="item__overlay-text">quick view</p>\n                </div>\n                </div>\n              <h2 class="book_name">').concat(e.title.slice(0,20)).concat(e.title.length>20?"...":"",'</h2>\n              <p class="book_author">').concat(e.author.slice(0,30)).concat(e.author.length>30?"...":"","</p>\n            </li>")})).join(""),w.insertAdjacentHTML("beforeend",l),document.querySelectorAll(".books-list__item").forEach((function(e){e.addEventListener("click",b)}));var o=document.querySelector(".main-title__first-part"),a=document.querySelector(".main-title__second-part");e.target.classList.contains("all")?(o.textContent="Best Sellers",a.textContent="Books"):(o.textContent=c(n),a.textContent=s(n)),(0,d.getObjectCategory)()})).catch((function(e){console.log(e.message)})),(0,r.spinnerStop)()}a=o("hUz67"),d=o("kmL1J");(0,(r=o("j1lrD")).spinnerPlay)(),window.addEventListener("load",(function(){(0,r.spinnerStop)()}));var E=document.querySelector(".categories-list");function q(){var e=document.querySelectorAll(".btn-see-more");function n(e){(0,r.spinnerPlay)(),e.preventDefault(),e.target.classList.contains("all")||E.classList.add("cards-markup"),E.innerHTML="";var n=e.target.id,t=i("".concat(n));console.log(t);var o=[];new(0,a.getBookData)(0,t).getPromCategory().then((function(e){console.log(e),o=e.map((function(e){return'<li class="books-list__item" id="'.concat(e._id,'">\n            <div class = "item-img__wrap">\n              <img class="item-img" src="').concat(e.book_image,'" alt="').concat(e.title,'">\n            <div class="item__overlay">\n            \n                <p class="item__overlay-text">quick view</p>\n                </div>\n                </div>\n              <h2 class="book_name">').concat(e.title.slice(0,20)).concat(e.title.length>20?"...":"",'</h2>\n              <p class="book_author">').concat(e.author.slice(0,30)).concat(e.author.length>30?"...":"","</p>\n            </li>")})).join(""),E.insertAdjacentHTML("beforeend",o);var t=document.querySelector(".main-title__first-part"),a=document.querySelector(".main-title__second-part");t.textContent=c(n),a.textContent=s(n),document.querySelectorAll(".books-list__item").forEach((function(e){e.addEventListener("click",b)})),(0,d.getObjectSeeMore)()})).catch((function(e){console.log(e.message)})),(0,r.spinnerStop)()}console.log(e),e.forEach((function(e){e.addEventListener("click",n)}))}d=o("kmL1J");(0,(r=o("j1lrD")).spinnerPlay)(),window.addEventListener("load",(function(){(0,r.spinnerStop)()}));var x=document.querySelector(".support"),j=new(0,a.getBookData),C=document.querySelector(".main-title__first-part"),H=document.querySelector(".main-title__second-part"),A=document.querySelector(".categories-list");function B(){(0,r.spinnerPlay)(),A.classList.remove("cards-markup"),x.classList.remove("support_tablet"),C.textContent="Best Sellers",H.textContent="Books";j.getPromTopBooks().then((function(e){var n=e.slice(0,4).map((function(e){var n=375;addEventListener("resize",(function(e){(window.innerWidth>767&&n<768||window.innerWidth>1439&&n<1440||window.innerWidth<1440&&n>1439||window.innerWidth<768&&n>767)&&location.reload()}));var t=1;t=(n=window.innerWidth)<768?1:n>767&&n<1440?3:5,console.log(t);var o=e.books.slice(0,t).map((function(e){return'<li class="books-list__item">\n            \n            <div class="item-wrap" id="'.concat(e._id,'">\n              <div class = "item-img__wrap">\n                <img class="item-img"\n                 src="').concat(e.book_image,'" \n                 alt="').concat("book cover photo",'" \n                 width ="').concat(e.book_image_width,'" \n                 height ="').concat(e.book_image_height,'"\n                />\n                <div class="item__overlay">\n                <p class="item__overlay-text">quick view</p>\n                </div>\n              </div>\n              <div class="item-title__wrap">\n                <h3 class="item__name">').concat(e.title.slice(0,15)).concat(e.title.length>15?"...":"",'</h3>\n                <p class="item__author">').concat(e.author,"</p>\n              </div>\n            </div>\n          </li>")})).join("");return'<li class="categories-list__item">\n                 <div class="categories-list__wrap">\n                   <h2 class="category">'.concat(e.list_name,'</h2>\n                   <ul class="books-list">').concat(o,'</ul>\n                   <div class="btn-see-more__wrap">\n                    <button class="btn-see-more" id="').concat(e.list_name,'" type="button">see more</button>\n                   </div>\n                 </div>\n                </li>')})).join("");A.insertAdjacentHTML("beforeend",n),L(),q(),document.querySelectorAll(".item-wrap").forEach((function(e){e.addEventListener("click",b)})),(0,d.getObject)()})).catch((function(e){console.log(e.message)})),(0,r.spinnerStop)()}B(),o("j1lrD"),o("igOX8"),o("kmL1J");var T=document.getElementById("myBtn");window.onscroll=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?T.style.display="block":T.style.display="none"}}();
//# sourceMappingURL=index.43cc7451.js.map
