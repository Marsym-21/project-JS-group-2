{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-9d6b60e581160bc6.js","src/index.js","src/js/render-hp-default-markup.js","src/js/render-hp-all-categories.js","src/js/getCategoryString.js","src/js/getCategoryTitle.js","src/js/seeMoreBtn.js","src/js/modalWindow.js","node_modules/@parcel/runtime-js/lib/runtime-0e98ef6595956c23.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.14816bed.js\\\",\\\"410VS\\\":\\\"icons.8e27432b.svg\\\",\\\"5UbS1\\\":\\\"index.a5e955d8.css\\\",\\\"cfiU8\\\":\\\"index.de9da9e2.js\\\"}\"));","import './js/support.js';\nimport './js/header-theme.js';\nimport './js/render-hp-default-markup.js';\nimport './js/render-hp-all-categories.js';\n// import './js/mobile-menu.js';\nimport './js/spinner.js';\nimport './js/header-mobile.js';\nimport './js/toggle-theme.js';\nimport './js/modalWindow.js';\n\nlet arr = [\n  '643282b2e85766588626a144',\n  '643282b2e85766588626a0f2',\n  '643282b3e85766588626a194',\n  '643282b2e85766588626a144',\n  '643282b2e85766588626a0f2',\n  '643282b3e85766588626a194',\n];\nlocalStorage.setItem('arrey', JSON.stringify(arr));\n","import { getBookData } from './getBooksData.js';\nimport { renderCategoryList } from './render-hp-all-categories.js';\nimport { seeMorebtn } from './seeMoreBtn.js';\nimport { getObject } from './toggle-theme.js';\nimport { renderModalWindow } from './modalWindow.js';\nimport { spinnerPlay, spinnerStop } from './spinner.js';\nspinnerPlay();\nwindow.addEventListener('load', () => {\n  spinnerStop();\n});\n\nconst booksInform = new getBookData();\nconst firstSpanMainTitle = document.querySelector('.main-title__first-part');\nconst secondSpanMainTitle = document.querySelector('.main-title__second-part');\n\nconst imgAttributeAlt = 'book cover photo';\n\nconst categoryList = document.querySelector('.categories-list');\n\nexport function renderCategoryPage() {\n  spinnerPlay();\n  // Get reference to the ul element using its id\n  firstSpanMainTitle.textContent = 'Best Sellers';\n  secondSpanMainTitle.textContent = 'Books';\n  let categoryArray = [];\n  booksInform\n    .getPromTopBooks()\n    .then(books => {\n      categoryArray = books.slice(0, 4).map(book => {\n        const booksArray = book.books\n          .map(\n            data =>\n              `<li class=\"books-list__item\">\n            <div class=\"item-wrap\" id=\"${data._id}\">\n             <div class = \"item-img__wrap\">\n               <img class=\"item-img\"\n                src=\"${data.book_image}\" \n                alt=\"${imgAttributeAlt}\" \n                width =\"${data.book_image_width}\" \n                height =\"${data.book_image_height}\"\n               />\n              </div>\n              <div class=\"item-title__wrap\">\n                <h3 class=\"item__name\">${data.title.slice(0, 30)}${\n                data.title.length > 30 ? '...' : ''\n              }</h3>\n                <p class=\"item__author\">${data.author}</p>\n              </div>\n            </div>\n          </li>`\n          )\n          .join('');\n        return `<li class=\"categories-list__item\">\n                 <div class=\"categories-list__wrap\">\n                   <h2 class=\"category\">${book.list_name}</h2>\n                   <ul class=\"books-list\">${booksArray}</ul>\n                   <button class=\"btn-see-more\" id=\"${book.list_name}\" type=\"button\">see more</button>\n                 </div>\n                </li>`;\n      });\n\n      const categoryHtml = categoryArray.join(''); // Join the array of HTML strings into a single string\n      categoryList.insertAdjacentHTML('beforeend', categoryHtml); // Insert the HTML code into the ul element\n\n      renderCategoryList();\n      seeMorebtn();\n      getObject();\n      const wrapFunction = document.querySelectorAll('.item-wrap');\n      wrapFunction.forEach(element => {\n        element.addEventListener('click', renderModalWindow);\n      });\n    })\n    .catch(error => {\n      console.log(error);\n    });\n  spinnerStop();\n}\n\nrenderCategoryPage();\n","import { getBookData } from './getBooksData.js';\nimport { renderCategoryPage } from './render-hp-default-markup.js';\nimport { createCategoryString } from './getCategoryString.js';\nimport { createFirstPartTitle } from './getCategoryTitle.js';\nimport { createLastPartTitle } from './getCategoryTitle.js';\nimport { spinnerPlay, spinnerStop } from './spinner.js';\nspinnerPlay();\nwindow.addEventListener('load', () => {\n  spinnerStop();\n});\n\nconst booksInform = new getBookData();\nconst list = document.querySelector('.book-categories');\nconst categoryList = document.querySelector('.categories-list');\n\nexport function renderCategoryList() {\n  const allCategor = document.createElement('li');\n  allCategor.classList.add('category-link');\n  allCategor.classList.add('all');\n  allCategor.textContent = 'All Categories';\n  list.append(allCategor);\n  let categoryArray = [];\n  booksInform\n    .getPromCategoryList()\n    .then(books => {\n      categoryArray = books\n        .map(book => `<li class=\"category-link\">${book.list_name}</li>`)\n        .join('');\n      list.insertAdjacentHTML('beforeend', categoryArray);\n      const categoryAll = document.querySelector('.all');\n      categoryAll.addEventListener('click', renderCategoryPage);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nlist.addEventListener('click', getString);\n\nfunction getString(e) {\n  spinnerPlay();\n  e.preventDefault();\n  console.log(e.target.classList.contains('all'));\n  categoryList.innerHTML = '';\n\n  const data = e.target.innerHTML;\n\n  // Добавляем класс \"active\" к нажатому элементу списка\n  const activeItem = document.querySelector('.category-link.active');\n  if (activeItem) {\n    activeItem.classList.remove('active');\n  }\n  e.target.classList.add('active');\n\n  const categoryString = createCategoryString(`${data}`);\n\n  let categoryArray = [];\n  const booksInform = new getBookData(0, categoryString);\n  booksInform\n    .getPromCategory()\n    .then(books => {\n      console.log(books);\n      categoryArray = books\n        .map(\n          book =>\n            `<div class=\"book-card\">\n              <img class=\"book-image\" src=\"${book.book_image}\" alt=\"${\n              book.title\n            }\">\n              <h2 class=\"book_name\">${book.title.slice(0, 20)}${\n              book.title.length > 20 ? '...' : ''\n            }</h2>\n              <p class=\"book_author\">${book.author.slice(0, 30)}${\n              book.author.length > 30 ? '...' : ''\n            }</p>\n            </div>`\n        )\n        .join('');\n\n      categoryList.insertAdjacentHTML('beforeend', categoryArray);\n\n      const firstSpanMainTitle = document.querySelector(\n        '.main-title__first-part'\n      );\n      const secondSpanMainTitle = document.querySelector(\n        '.main-title__second-part'\n      );\n\n      if (e.target.classList.contains('all')) {\n        firstSpanMainTitle.textContent = 'Best Sellers';\n        secondSpanMainTitle.textContent = 'Books';\n      } else {\n        firstSpanMainTitle.textContent = createFirstPartTitle(data);\n        secondSpanMainTitle.textContent = createLastPartTitle(data);\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n  spinnerStop();\n}\n","export function createCategoryString(string) {\n  const array = string.split('');\n  let newArray = [];\n  for (let i = 0; i < array.length; i++) {\n    let letter = array[i];\n    if (letter === ' ') {\n      letter = '%20';\n    }\n    newArray.push(letter);\n  }\n  return newArray.join('');\n}\n\n// createCategoryString('Combined Print and E-Book Fiction');\n","export function createFirstPartTitle(string) {\n  const array = string.split(' ');\n  const newArray = array.slice(0, array.length - 1);\n  const firstPart = newArray.join(' ');\n  return firstPart;\n}\n\nexport function createLastPartTitle(string) {\n  const array = string.split(' ');\n  const lastPartTitle = array[array.length - 1];\n  return lastPartTitle;\n}\n\n// export default { createFirstPartTitle, createLastPartTitle };\n","import { createCategoryString } from './getCategoryString';\nimport { getBookData } from './getBooksData';\nimport { createFirstPartTitle } from './getCategoryTitle.js';\nimport { createLastPartTitle } from './getCategoryTitle.js';\nimport { spinnerPlay, spinnerStop } from './spinner.js';\nspinnerPlay();\nwindow.addEventListener('load', () => {\n  spinnerStop();\n});\n\nconst categoryList = document.querySelector('.categories-list');\n\nexport function seeMorebtn() {\n  const sMoreButton = document.querySelectorAll('.btn-see-more');\n  console.log(sMoreButton);\n\n  sMoreButton.forEach(element => {\n    element.addEventListener('click', renderCategory);\n  });\n\n  function renderCategory(e) {\n    spinnerPlay();\n    e.preventDefault();\n\n    categoryList.innerHTML = '';\n\n    const data = e.target.id;\n\n    const categoryString = createCategoryString(`${data}`);\n    console.log(categoryString);\n\n    let categoryArray = [];\n    const booksInform = new getBookData(0, categoryString);\n    booksInform\n      .getPromCategory()\n      .then(books => {\n        console.log(books);\n        categoryArray = books\n          .map(\n            book =>\n              `<div class=\"book-card\">\n              <img class=\"book-image\" src=\"${book.book_image}\" alt=\"${\n                book.title\n              }\">\n              <h2 class=\"book_name\">${book.title.slice(0, 20)}${\n                book.title.length > 20 ? '...' : ''\n              }</h2>\n              <p class=\"book_author\">${book.author.slice(0, 30)}${\n                book.author.length > 30 ? '...' : ''\n              }</p>\n            </div>`\n          )\n          .join('');\n\n        categoryList.insertAdjacentHTML('beforeend', categoryArray);\n\n        const firstSpanMainTitle = document.querySelector(\n          '.main-title__first-part'\n        );\n        const secondSpanMainTitle = document.querySelector(\n          '.main-title__second-part'\n        );\n        firstSpanMainTitle.textContent = createFirstPartTitle(data);\n        secondSpanMainTitle.textContent = createLastPartTitle(data);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n    spinnerStop();\n  }\n}\n","import { getBookData } from './getBooksData.js';\n\nlet booksInform = new getBookData();\nconst logoPath = new URL('../images/icons.svg', import.meta.url);\nconst modalContainer = document.querySelector('.modal-container');\nconst modalBackdrop = document.querySelector('.modal-backdrop');\n\nconst newArray = [];\nlet booksArray = [];\n\nexport function checkLocalStorage() {\n  const getLocalstorage = localStorage.getItem('id');\n  console.log(getLocalstorage);\n  parseLokalstorage = JSON.parse(getLocalstorage);\n\n  if (!parseLokalstorage) {\n    booksArray = [];\n  } else {\n    booksArray = newArray.concat(parseLokalstorage);\n  }\n}\n\nfunction checkMessage() {\n  if (booksArray.includes(id)) {\n    return (message = 'Remove from the shopping list');\n  } else {\n    return (message = 'Add to shopping list');\n  }\n}\n\nfunction checkValue(value) {\n  if (value !== '') {\n    return value;\n  } else {\n    let message = 'No more information about this book';\n    return message;\n  }\n}\n\nexport function renderBookInformation(id) {\n  console.log(id);\n  modalBackdrop.classList.remove('is-hidden');\n  booksInform = new getBookData(id);\n  modalContainer.innerHTML = '';\n\n  booksInform\n    .getPromId()\n    .then(data => {\n      console.log(data);\n      function links(sms) {\n        const link = data.buy_links;\n        for (let i = 0; i < link.length; i += 1) {\n          if (link[i].name === `${sms}`) {\n            return link[i].url;\n          } else if (link[i].name !== `${sms}`) {\n            continue;\n          }\n        }\n      }\n\n      categoryArray = `\n       <div class=\"modal-close__btn-wrapper\">\n      <button type='button' class='modal-close-btn close'>\n     <svg class=\"close\" fill=\"none\" width=\"30\" height=\"30\">\n          <use href=\"${logoPath}#icon-x-close\"></use>\n</svg>\n    \n       <path d=\"m8 8 14 14M8 22 22 8\" stroke=\"#000\" stroke-width=\"2\" />\n   </svg>\n      </button>\n      </div>\n      <div class ='modal-book'>\n      <div class='modal-book__img-container'>\n        <img class='modal-book__img' src=${checkValue(data.book_image)} \n        alt=${checkValue(data.title)}/>\n        </div>\n        <div class='modal-book__description'>\n        <h2 class=\"modal-book__title\">${checkValue(data.title)}</h2>\n        <p class =\"modal-book__author\">${checkValue(data.author)}</p>\n        <p class =\"modal-book__about\">\n      \n        ${checkValue(data.description)}</p>\n        \n       <div class = 'modal-book__stores'>\n\n      <div class=\"modal-book__amazon\">\n       <a class=\"amazon__link link\"\n       href=\"${links('Amazon')}\"  \n   target=\"_blank\"\n   rel=\"noopener noreferrer\"\n   aria-label=\"amazon icon\"\n   >\n  \n   <svg class=\"book\" fill=\"none\" width=\"60\" height=\"60\">\n          <use href=\"${logoPath}#icon-amazon-ar21\"></use>\n</svg>\n\n   </a>\n       </div>\n       <div class =\"modal-book__applebook\">\n       <a class=\"applebook__link link\"\n       href=\"${links('Apple Books')}\"  \n   target=\"_blank\"\n   rel=\"noopener noreferrer\"\n   aria-label=\"Apple Book icon\"\n   >\n       <svg class=\"book\"  width=\"30\" height=\"30\" fill=\"none\">\n       <use href=\"${logoPath}#icon-apple-ibooks\"></use> \n       </svg>\n       </a>\n   </div>\n\n       <div class =\"modal-book__bookshop\">\n       <a class=\"bookshop__link link\"\n       href=\"${links('Bookshop')}\"  \n   target=\"_blank\"\n   rel=\"noopener noreferrer\"\n   aria-label=\"Bookshop icon\"\n   >\n       <svg class=\"book\"  width=\"40\" height=\"40\">\n              <use href=\"${logoPath}#icon-14008711\"></use>\n       </svg>\n       </a>\n       </div>\n       </div>\n       </div>\n       </div>\n       <div  class=\"modal-book__add__wrapper\">  \n       <button type=\"button\" class=\"modal-book__button\" id=\"${\n         data.id\n       }\">${checkMessage()}</button>  \n   </div>  \n        `;\n\n      modalContainer.innerHTML = categoryArray;\n\n      const closeButton = document.querySelector('.modal-close-btn');\n      closeButton.addEventListener('click', closeBtn);\n\n      const addButton = document.querySelector('.modal-book__button');\n      addButton.addEventListener('click', () => {\n        if (booksArray.includes(id)) {\n          let bookIndex = booksArray.indexOf(id);\n\n          booksArray.splice(bookIndex, 1);\n          stringKey = JSON.stringify(booksArray);\n          addButton.textContent = `${checkMessage()}`;\n          localStorage.setItem('id', stringKey);\n          return;\n        } else {\n          booksArray.push(id);\n          addButton.textContent = `${checkMessage()}`;\n          stringKey = JSON.stringify(booksArray);\n          localStorage.setItem('id', stringKey);\n        }\n      });\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nfunction closeBtn() {\n  modalBackdrop.classList.add('is-hidden');\n}\n\nexport function renderModalWindow(e) {\n  const data = e.currentTarget.id;\n  checkLocalStorage(data);\n  renderBookInformation(data);\n}\n\nmodalBackdrop.addEventListener('click', e => {\n  if (!e.target.classList.contains('modal-backdrop')) {\n    return;\n  }\n  closeBtn();\n});\n\nwindow.addEventListener('keydown', e => {\n  if (e.code != 'Escape') {\n    return;\n  } else {\n    closeBtn();\n  }\n});\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"410VS\");"],"names":["parcelRequire","register","JSON","parse","$hUz67","$c7deabfaa2ad8641$export$6542b78463683313","string","array","split","newArray","i","length","letter","push","join","$4278ff150f5a0db4$export$44d8078b34b7e06a","slice","$4278ff150f5a0db4$export$ea2528abfe3ff180","spinnerPlay","window","addEventListener","$j1lrD","spinnerStop","$c1a2467ca46f73da$var$booksInform","getBookData","$c1a2467ca46f73da$var$list","document","querySelector","$c1a2467ca46f73da$var$categoryList","$c1a2467ca46f73da$export$ca123186edb030a4","allCategor","createElement","classList","add","textContent","append","categoryArray","getPromCategoryList","then","books","map","book","concat","list_name","insertAdjacentHTML","$8a0389b0cadc81d0$export$aa2b59833a560496","catch","error","console","log","e","preventDefault","target","contains","innerHTML","data","activeItem","remove","categoryString","getPromCategory","book_image","title","author","firstSpanMainTitle","secondSpanMainTitle","$f7f298a522ec45f1$var$categoryList","$f7f298a522ec45f1$export$1393dd1cea20fd19","sMoreButton","querySelectorAll","renderCategory","id","forEach","element","$3d70fd1c6ee17102$var$booksInform","$ef33cbb6b4540f9d$exports","getBundleURL","resolve","$3d70fd1c6ee17102$var$logoPath","URL","$3d70fd1c6ee17102$var$modalContainer","$3d70fd1c6ee17102$var$modalBackdrop","$3d70fd1c6ee17102$var$newArray","$3d70fd1c6ee17102$var$booksArray","$3d70fd1c6ee17102$var$checkMessage","includes","message","$3d70fd1c6ee17102$var$checkValue","value","$3d70fd1c6ee17102$var$closeBtn","$3d70fd1c6ee17102$export$8d6a7b8a07dbc48","getLocalstorage","currentTarget","localStorage","getItem","parseLokalstorage","getPromId","links","sms","link","buy_links","name","url","description","addButton","bookIndex","indexOf","splice","stringKey","stringify","setItem","$3d70fd1c6ee17102$export$dae831011f3a5aee","code","$8a0389b0cadc81d0$var$booksInform","$8a0389b0cadc81d0$var$firstSpanMainTitle","$8a0389b0cadc81d0$var$secondSpanMainTitle","$8a0389b0cadc81d0$var$categoryList","getPromTopBooks","categoryHtml","booksArray","_id","book_image_width","book_image_height","$kmL1J","getObject"],"version":3,"file":"index.14816bed.js.map"}