{"mappings":"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","sources":["src/index.js","src/js/render-hp-default-markup.js","src/js/getCategoryString.js","src/js/getCategoryTitle.js","src/js/render-hp-all-categories.js","src/js/seeMoreBtn.js","src/js/header-mobile.js"],"sourcesContent":["import './js/support.js';\nimport './js/header-theme.js';\nimport './js/render-hp-default-markup.js';\nimport './js/render-hp-all-categories.js';\nimport './js/header-mobile.js';\nimport './js/toggle-theme.js';\n\nlet arr = ['643282b2e85766588626a144', '643282b2e85766588626a0f2', '643282b3e85766588626a194','643282b2e85766588626a144', '643282b2e85766588626a0f2', '643282b3e85766588626a194'];\nlocalStorage.setItem('arrey', JSON.stringify(arr))","import { getBookData } from './getBooksData.js';\nimport { renderCategoryList } from './render-hp-all-categories.js';\nimport { seeMorebtn } from './seeMoreBtn.js';\nimport { getObject } from './toggle-theme.js';\n\nconst booksInform = new getBookData();\nconst firstSpanMainTitle = document.querySelector('.main-title__first-part');\nconst secondSpanMainTitle = document.querySelector('.main-title__second-part');\n\nconst imgAttributeAlt = 'book cover photo';\n\nconst categoryList = document.querySelector('.categories-list');\n\nexport function renderCategoryPage() {\n  // Get reference to the ul element using its id\n  firstSpanMainTitle.textContent = 'Best Sellers';\n  secondSpanMainTitle.textContent = 'Books';\n  let categoryArray = [];\n  booksInform\n    .getPromTopBooks()\n    .then(books => {\n      categoryArray = books.slice(0, 4).map(book => {\n        const booksArray = book.books\n          .map(\n            data =>\n              `<li class=\"books-list__item\">\n            <div class=\"item-wrap\" id=\"${data._id}\">\n             <div class = \"item-img__wrap\">\n               <img class=\"item-img\"\n                src=\"${data.book_image}\" \n                alt=\"${imgAttributeAlt}\" \n                width =\"${data.book_image_width}\" \n                height =\"${data.book_image_height}\"\n               />\n              </div>\n              <div class=\"item-title__wrap\">\n                <h3 class=\"item__name\">${data.title.slice(0, 30)}${\n                data.title.length > 30 ? '...' : ''\n              }</h3>\n                <p class=\"item__author\">${data.author}</p>\n              </div>\n            </div>\n          </li>`\n          )\n          .join('');\n        return `<li class=\"categories-list__item\">\n                 <div class=\"categories-list__wrap\">\n                   <h2 class=\"category\">${book.list_name}</h2>\n                   <ul class=\"books-list\">${booksArray}</ul>\n                   <button class=\"btn-see-more\" id=\"${book.list_name}\" type=\"button\">see more</button>\n                 </div>\n                </li>`;\n      });\n\n      const categoryHtml = categoryArray.join(''); // Join the array of HTML strings into a single string\n      categoryList.insertAdjacentHTML('beforeend', categoryHtml); // Insert the HTML code into the ul element\n      renderCategoryList();\n      seeMorebtn();\n      getObject();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nrenderCategoryPage();\n","export function createCategoryString(string) {\n  const array = string.split('');\n  let newArray = [];\n  for (let i = 0; i < array.length; i++) {\n    let letter = array[i];\n    if (letter === ' ') {\n      letter = '%20';\n    }\n    newArray.push(letter);\n  }\n  return newArray.join('');\n}\n\n// createCategoryString('Combined Print and E-Book Fiction');\n","export function createFirstPartTitle(string) {\n  const array = string.split(' ');\n  const newArray = array.slice(0, array.length - 1);\n  const firstPart = newArray.join(' ');\n  return firstPart;\n}\n\nexport function createLastPartTitle(string) {\n  const array = string.split(' ');\n  const lastPartTitle = array[array.length - 1];\n  return lastPartTitle;\n}\n\n// export default { createFirstPartTitle, createLastPartTitle };\n","import { getBookData } from './getBooksData.js';\nimport { renderCategoryPage } from './render-hp-default-markup.js';\nimport { createCategoryString } from './getCategoryString.js';\nimport { createFirstPartTitle } from './getCategoryTitle.js';\nimport { createLastPartTitle } from './getCategoryTitle.js';\n\nconst booksInform = new getBookData();\nconst list = document.querySelector('.book-categories');\nconst categoryList = document.querySelector('.categories-list');\n\nexport function renderCategoryList() {\n  const allCategor = document.createElement('li');\n  allCategor.classList.add('category-link');\n  allCategor.classList.add('all');\n  allCategor.textContent = 'All Categories';\n  list.append(allCategor);\n  let categoryArray = [];\n  booksInform\n    .getPromCategoryList()\n    .then(books => {\n      categoryArray = books\n        .map(book => `<li class=\"category-link\">${book.list_name}</li>`)\n        .join('');\n      list.insertAdjacentHTML('beforeend', categoryArray);\n      const categoryAll = document.querySelector('.all');\n      categoryAll.addEventListener('click', renderCategoryPage);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nlist.addEventListener('click', getString);\n\nfunction getString(e) {\n  e.preventDefault();\n  console.log(e.target.classList.contains('all'));\n  categoryList.innerHTML = '';\n\n  const data = e.target.innerHTML;\n\n  // Добавляем класс \"active\" к нажатому элементу списка\n  const activeItem = document.querySelector('.category-link.active');\n  if (activeItem) {\n    activeItem.classList.remove('active');\n  }\n  e.target.classList.add('active');\n\n  const categoryString = createCategoryString(`${data}`);\n\n  let categoryArray = [];\n  const booksInform = new getBookData(0, categoryString);\n  booksInform\n    .getPromCategory()\n    .then(books => {\n      console.log(books);\n      categoryArray = books\n        .map(\n          book =>\n            `<div class=\"book-card\">\n              <img class=\"book-image\" src=\"${book.book_image}\" alt=\"${\n              book.title\n            }\">\n              <h2 class=\"book_name\">${book.title.slice(0, 20)}${\n              book.title.length > 20 ? '...' : ''\n            }</h2>\n              <p class=\"book_author\">${book.author.slice(0, 30)}${\n              book.author.length > 30 ? '...' : ''\n            }</p>\n            </div>`\n        )\n        .join('');\n\n      categoryList.insertAdjacentHTML('beforeend', categoryArray);\n\n      const firstSpanMainTitle = document.querySelector(\n        '.main-title__first-part'\n      );\n      const secondSpanMainTitle = document.querySelector(\n        '.main-title__second-part'\n      );\n\n      if (e.target.classList.contains('all')) {\n        firstSpanMainTitle.textContent = 'Best Sellers';\n        secondSpanMainTitle.textContent = 'Books';\n      } else {\n        firstSpanMainTitle.textContent = createFirstPartTitle(data);\n        secondSpanMainTitle.textContent = createLastPartTitle(data);\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n","import { createCategoryString } from './getCategoryString';\nimport { getBookData } from './getBooksData';\nimport { createFirstPartTitle } from './getCategoryTitle.js';\nimport { createLastPartTitle } from './getCategoryTitle.js';\n\nconst categoryList = document.querySelector('.categories-list');\n\nexport function seeMorebtn() {\n  const sMoreButton = document.querySelectorAll('.btn-see-more');\n  console.log(sMoreButton);\n\n  sMoreButton.forEach(element => {\n    element.addEventListener('click', renderCategory);\n  });\n\n  function renderCategory(e) {\n    e.preventDefault();\n\n    categoryList.innerHTML = '';\n\n    const data = e.target.id;\n\n    const categoryString = createCategoryString(`${data}`);\n    console.log(categoryString);\n\n    let categoryArray = [];\n    const booksInform = new getBookData(0, categoryString);\n    booksInform\n      .getPromCategory()\n      .then(books => {\n        console.log(books);\n        categoryArray = books\n          .map(\n            book =>\n              `<div class=\"book-card\">\n              <img class=\"book-image\" src=\"${book.book_image}\" alt=\"${\n                book.title\n              }\">\n              <h2 class=\"book_name\">${book.title.slice(0, 20)}${\n                book.title.length > 20 ? '...' : ''\n              }</h2>\n              <p class=\"book_author\">${book.author.slice(0, 30)}${\n                book.author.length > 30 ? '...' : ''\n              }</p>\n            </div>`\n          )\n          .join('');\n\n        categoryList.insertAdjacentHTML('beforeend', categoryArray);\n\n        const firstSpanMainTitle = document.querySelector(\n          '.main-title__first-part'\n        );\n        const secondSpanMainTitle = document.querySelector(\n          '.main-title__second-part'\n        );\n        firstSpanMainTitle.textContent = createFirstPartTitle(data);\n        secondSpanMainTitle.textContent = createLastPartTitle(data);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n}\n","(() => {\n    const mobileMenu = document.querySelector('.js-menu-container');\n    const openMenuBtn = document.querySelector('.js-open-menu');\n    const closeMenuBtn = document.querySelector('.js-close-menu');\n  \n    const toggleMenu = () => {\n      const isMenuOpen =\n        openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n      openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n      mobileMenu.classList.toggle('is-open');\n    };\n  \n    openMenuBtn.addEventListener('click', toggleMenu);\n    closeMenuBtn.addEventListener('click', toggleMenu);\n  \n    // Close the mobile menu on wider screens if the device orientation changes\n    window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n      if (!e.matches) return;\n      mobileMenu.classList.remove('is-open');\n      openMenuBtn.setAttribute('aria-expanded', false);\n      \n    });\n  })();"],"names":["parcelRequire","$hUz67","$c7deabfaa2ad8641$export$6542b78463683313","string","array","split","newArray","i","length","letter","push","join","$4278ff150f5a0db4$export$44d8078b34b7e06a","slice","$4278ff150f5a0db4$export$ea2528abfe3ff180","$c1a2467ca46f73da$var$booksInform","getBookData","$c1a2467ca46f73da$var$list","document","querySelector","$c1a2467ca46f73da$var$categoryList","$c1a2467ca46f73da$export$ca123186edb030a4","allCategor","createElement","classList","add","textContent","append","categoryArray","getPromCategoryList","then","books","map","book","concat","list_name","insertAdjacentHTML","addEventListener","$8a0389b0cadc81d0$export$aa2b59833a560496","catch","error","console","log","e","preventDefault","target","contains","innerHTML","data","activeItem","remove","categoryString","getPromCategory","book_image","title","author","firstSpanMainTitle","secondSpanMainTitle","$f7f298a522ec45f1$var$categoryList","$f7f298a522ec45f1$export$1393dd1cea20fd19","sMoreButton","querySelectorAll","renderCategory","id","forEach","element","mobileMenu","openMenuBtn","closeMenuBtn","toggleMenu","$8a0389b0cadc81d0$var$booksInform","$8a0389b0cadc81d0$var$firstSpanMainTitle","$8a0389b0cadc81d0$var$secondSpanMainTitle","$8a0389b0cadc81d0$var$categoryList","getPromTopBooks","categoryHtml","booksArray","_id","book_image_width","book_image_height","$kmL1J","getObject","isMenuOpen","getAttribute","setAttribute","toggle","window","matchMedia","matches","localStorage","setItem","JSON","stringify"],"version":3,"file":"index.dce2fae4.js.map"}