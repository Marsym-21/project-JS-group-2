{"mappings":"imBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,sPCAzDH,EAAA,S,yCCAAI,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WDO5F,MAAMC,EAAQ,IAAAN,IAAAD,G,MEPdQ,EAAiB,IAAAP,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WFQ5F,MAAMG,EAAS,IAAAR,IAAAO,GACTE,EAAgBC,SAASC,cAAc,gBAEvCC,EAAWC,aAAaC,QAAQ,SACnC,IAAIC,EAAqBlB,KAAKC,MAAMc,GAGrCH,EAAcO,iBAAiB,SA4GjC,SAAoBC,GAElB,IAAIzB,EAAKyB,EAAMC,OAAOC,QAAQ3B,GAE9B,GAAmD,0BAA/CyB,EAAMC,OAAOE,cAAcC,UAAUC,OAInCC,EAAWC,SAAShC,GAAK,CAE3B,IAAIiC,EAAYF,EAAWG,QAAQlC,GACnC+B,EAAWI,OAAOF,EAAW,GAI7B,MAAMG,EAAS/B,KAAKgC,UAAUN,GAG9BV,aAAaiB,QAAQ,QAASF,GAC9BnB,EAAcsB,UAAY,GAG1BC,EADgBnC,KAAKC,MAAM8B,IAEvBL,EAAWhC,OAAS,IACpBkB,EAAcsB,UAAY,GAC1BtB,EAAcsB,UAAY,yJAKzBvB,0C,KAtIcK,aAAaC,QAAQ,SAa9C,IAAImB,EAAQpB,aAAaC,QAAQ,SAC7BS,EAAa1B,KAAKC,MAAMmC,GAS5B,SAASD,EAAWE,GAElBA,EAAaC,KAAI3C,IACC,IAAI,EAAA4C,EAAAC,aAAa7C,EAAK,GAAGA,KAId8C,YAAYC,MAAK,EAACC,UAAEA,EAASC,OAAEA,EAAMC,MAAEA,EAAKC,WAAEA,EAAUC,YAAEA,EAAWC,UAAEA,EAASC,IAAEA,MAC3G,SAASC,EAAMC,GACb,MAAMC,EAAOJ,EACb,IAAK,IAAIvD,EAAI,EAAGA,EAAI2D,EAAK1D,OAAQD,GAAK,EAAG,CACvC,GAAI2D,EAAK3D,GAAG4D,OAAS,GAAGF,IACtB,OAAOC,EAAK3D,GAAGc,IACN6C,EAAK3D,GAAG4D,I,EAKvB,MAAO,2CAC2BJ,iGAEKH,yDACHF,kGAGDC,kEAE3BF,2GAKSO,EACf,uJAG6BzC,+HAKdyC,EAAM,4JAEQzC,gIAKdyC,EAAM,6IAEQzC,+IAM3BsC,mDAE2BH,kIAGZnC,8CAAqDwC,sDAI1E,IAIwBP,MAAKY,IAEzB1C,EAAc2C,mBAAmB,YAAaD,EAAK,GAErD,G,CAjFNE,QAAQC,IAAI/B,EAAWhC,QAuFvByC,EAAWjB","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-6d641027192c8a68.js","src/shopping-list.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js","node_modules/@parcel/runtime-js/lib/runtime-67b0b3836f7e649d.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"f9bx4\\\":\\\"shopping-list.0ffad7d2.js\\\",\\\"8OQ7p\\\":\\\"icons.8e27432b.svg\\\",\\\"4olzs\\\":\\\"emptyBook.9d82d098.png\\\",\\\"5UbS1\\\":\\\"index.dfcaf1b4.css\\\",\\\"4l2W5\\\":\\\"index.7d0daddd.js\\\"}\"));","import './js/support.js';\nimport './js/header-theme.js';\nimport './js/toggle-theme.js';\n\n\n\nimport { getBookData } from '../src/js/getBooksData.js'; \nconst logoPath = new URL('./images/icons.svg', import.meta.url);\nconst emptyBook = new URL('./images/emptyBook.png', import.meta.url);\nconst shopingListEl = document.querySelector('.shopingList');\n\nconst getLocal = localStorage.getItem('arrey')\n   let parseLokalstorageQ = JSON.parse(getLocal)\n\n\n  shopingListEl.addEventListener('click', deleteBook);\n\n\n\nconst getLocalstorages = localStorage.getItem('arrey')\n\n\n// const key = ['643282b2e85766588626a144', '643282b2e85766588626a0f2', '643282b2e85766588626a0f2', '643282b3e85766588626a194', '643282b2e85766588626a144', '643282b2e85766588626a144'];\n \n// stringKey = JSON.stringify(key);\n\n// localStorage.setItem('id', stringKey)\n\n\n// const getLocalstorage = localStorage.getItem('id')\n// parseLokalstorage = JSON.parse(getLocalstorage)\n\nlet arrey = localStorage.getItem('arrey');\nlet parceArrey = JSON.parse(arrey)\nconsole.log(parceArrey.length)\n\n// parseLokalstorageQ.map((id) => {\n    \n// const getBook = new getBookData((id = `${id}`)); \n  \n \n  \nfunction renderBook(localstorArr) {\n  \n  localstorArr.map(id => {\n    const getBook = new getBookData((id = `${id}`));\n\n\n   \n    const renderCard = getBook.getPromId().then(({ list_name, author, title, book_image, description, buy_links, _id }) => {\n      function links(sms) {\n        const link = buy_links;\n        for (let i = 0; i < link.length; i += 1) {\n          if (link[i].name === `${sms}`) {\n            return link[i].url;\n          } else if (link[i].name !== `${sms}`) {\n            continue;\n          }\n        }\n      }\n      return `\n<li class=\"shoppinglist_item data-id=\"${_id}\">\n    <div class=\"shoppinglist_img-container\">\n        <img class=\"shoppinglist_img\" src=\"${book_image}\" alt=\"\" />\n        <p class=\"shoppinglist_authorM\">${author}</p>\n    </div>\n    <div class=\"shoppinglist_info\">\n        <h2 class=\"shoppinglist_title\">${title}</h2>\n        <p class=\"shoppinglist_category\">\n            ${list_name}\n        </p>\n    </div>\n    <ul class=\"shoppinglistlink_list\">\n        <li>\n            <a href=\"${links(\n        'Amazon'\n      )}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <svg fill=\"none\" width=\"55\" height=\"60\">\n                        <use href=\"${logoPath}#icon-amazon-ar21\"></use>\n                    </svg>\n            </a>\n        </li>\n        <li>\n            <a href=\"${links('Apple Books')}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <svg width=\"28\" height=\"27\" fill=\"none\">\n                        <use href=\"${logoPath}#icon-apple-ibooks\"></use>\n                    </svg>\n            </a>\n        </li>\n        <li>\n            <a href=\"${links('Bookshop')}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <svg width=\"32\" height=\"32\">\n                        <use href=\"${logoPath}#icon-14008711\"></use>\n                    </svg>\n            </a>\n        </li>\n    </ul>\n    <p class=\"shoppinglist_desc\">\n        ${description}\n    </p>\n    <p class=\"shoppinglist_author\">${author}</p>\n    <button class=\"shoppinglist_btn type=\"button\">\n        <svg class=\"shoppinglist_btn-icon\">\n            <use href=\"${logoPath}#icon-dump-1\" class=\"removecard\" data-id=\"${_id}\"></use>\n        </svg>\n    </button>\n</li>\n   `;\n    }\n    );\n  \n    const card = renderCard.then(data => {\n\n        shopingListEl.insertAdjacentHTML('beforeend', data);\n      \n    });\n\n  })\n\n}\n      \nrenderBook(parseLokalstorageQ);\n\nfunction deleteBook(event) {\n  \n  let id = event.target.dataset.id;\n\n  if (event.target.parentElement.classList.value === 'shoppinglist_btn-icon') {\n   \n    // console.log(localStorage.getItem('arrey'))\n    \n    if (parceArrey.includes(id)) {\n      // console.log(parceArrey)\n      let bookIndex = parceArrey.indexOf(id)\n      parceArrey.splice(bookIndex, 1)\n      \n      // console.log(parceArrey)\n      \n      const newArr = JSON.stringify(parceArrey)\n\n      // console.log(newArr)\n      localStorage.setItem('arrey', newArr)\n      shopingListEl.innerHTML = '';\n      \n      let newRender = JSON.parse(newArr);\n      renderBook(newRender);\n      if (parceArrey.length < 1) {\n          shopingListEl.innerHTML = '';\n          shopingListEl.innerHTML = `<p class=\"empty-book-text\"> \n    This page is empty, add some books and proceed to order. \n  </p> \n  <img \n    class=\"empty-book-page\" \n    src=\"${emptyBook}\" \n    alt=\"The page is emrty\" \n  />`\n      }\n      \n    }\n    \n    // for (let i = 0; i < parceArrey.length; i++){\n    //   // console.log(parceArrey[i])\n      \n    //   if (parceArrey[i] === id) {\n    //     foundId = id;\n    //     console.log('found')\n    //     console.log(id)\n    //    parceArrey.splice(foundId, 1)\n    //     console.log(parceArrey)\n    //   }\n    // }\n\n    // parceArrey.map((arreyId) => {\n    //   if (arreyId !== id) {\n    //     return;\n    //   } else {\n    //     console.log('Знайшли');\n    //     console.log(id) } \n    // })\n   \n  }\n  \n  // getBook.getPromTopBooks().then(data => {\n  //       console.log(data)\n  // })\n  // })\n}\n\n\n\n\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4olzs\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$e27edc6dc33d0133$exports","URL","resolve","import","meta","url","toString","$e4901028ceec97df$var$logoPath","$62023dcf9a305a34$exports","$e4901028ceec97df$var$emptyBook","$e4901028ceec97df$var$shopingListEl","document","querySelector","$e4901028ceec97df$var$getLocal","localStorage","getItem","$e4901028ceec97df$var$parseLokalstorageQ","addEventListener","event","target","dataset","parentElement","classList","value","$e4901028ceec97df$var$parceArrey","includes","bookIndex","indexOf","splice","newArr","stringify","setItem","innerHTML","$e4901028ceec97df$var$renderBook","$e4901028ceec97df$var$arrey","localstorArr","map","$2dy3d","getBookData","getPromId","then","list_name","author","title","book_image","description","buy_links","_id","links","sms","link","name","data","insertAdjacentHTML","console","log"],"version":3,"file":"shopping-list.0ffad7d2.js.map"}