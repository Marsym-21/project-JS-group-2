!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=t.parcelRequired7c6;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){var o=n[t];delete n[t];var a={id:t,exports:{}};return e[t]=a,o.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(t,e){n[t]=e},t.parcelRequired7c6=o),o("xpKCW"),o("cXIps");var a=o("hUz67");a=o("hUz67");function c(t){for(var e=t.split(""),n=[],o=0;o<e.length;o++){var a=e[o];" "===a&&(a="%20"),n.push(a)}return n.join("")}function i(t){var e=t.split(" ");return e.slice(0,e.length-1).join(" ")}function r(t){var e=t.split(" ");return e[e.length-1]}(0,(p=o("j1lrD")).spinnerPlay)(),window.addEventListener("load",(function(){(0,p.spinnerStop)()}));var l=new(0,a.getBookData),s=document.querySelector(".book-categories"),u=document.querySelector(".categories-list");function d(){var t=document.createElement("li");t.classList.add("category-link"),t.classList.add("all"),t.textContent="All Categories",s.append(t);var e=[];l.getPromCategoryList().then((function(t){e=t.map((function(t){return'<li class="category-link">'.concat(t.list_name,"</li>")})).join(""),s.insertAdjacentHTML("beforeend",e),document.querySelector(".all").addEventListener("click",k)})).catch((function(t){console.log(t)}))}s.addEventListener("click",(function(t){(0,p.spinnerPlay)(),t.preventDefault(),console.log(t.target.classList.contains("all")),u.innerHTML="";var e=t.target.innerHTML,n=document.querySelector(".category-link.active");n&&n.classList.remove("active");t.target.classList.add("active");var o=c("".concat(e)),l=[];new(0,a.getBookData)(0,o).getPromCategory().then((function(n){console.log(n),l=n.map((function(t){return'<div class="book-card">\n              <img class="book-image" src="'.concat(t.book_image,'" alt="').concat(t.title,'">\n              <h2 class="book_name">').concat(t.title.slice(0,20)).concat(t.title.length>20?"...":"",'</h2>\n              <p class="book_author">').concat(t.author.slice(0,30)).concat(t.author.length>30?"...":"","</p>\n            </div>")})).join(""),u.insertAdjacentHTML("beforeend",l);var o=document.querySelector(".main-title__first-part"),a=document.querySelector(".main-title__second-part");t.target.classList.contains("all")?(o.textContent="Best Sellers",a.textContent="Books"):(o.textContent=i(e),a.textContent=r(e))})).catch((function(t){console.log(t)})),(0,p.spinnerStop)()}));a=o("hUz67");(0,(p=o("j1lrD")).spinnerPlay)(),window.addEventListener("load",(function(){(0,p.spinnerStop)()}));var g=document.querySelector(".categories-list");function m(){var t=document.querySelectorAll(".btn-see-more");function e(t){(0,p.spinnerPlay)(),t.preventDefault(),g.innerHTML="";var e=t.target.id,n=c("".concat(e));console.log(n);var o=[];new(0,a.getBookData)(0,n).getPromCategory().then((function(t){console.log(t),o=t.map((function(t){return'<div class="book-card">\n              <img class="book-image" src="'.concat(t.book_image,'" alt="').concat(t.title,'">\n              <h2 class="book_name">').concat(t.title.slice(0,20)).concat(t.title.length>20?"...":"",'</h2>\n              <p class="book_author">').concat(t.author.slice(0,30)).concat(t.author.length>30?"...":"","</p>\n            </div>")})).join(""),g.insertAdjacentHTML("beforeend",o);var n=document.querySelector(".main-title__first-part"),a=document.querySelector(".main-title__second-part");n.textContent=i(e),a.textContent=r(e)})).catch((function(t){console.log(t)})),(0,p.spinnerStop)()}console.log(t),t.forEach((function(t){t.addEventListener("click",e)}))}var p,f=o("kmL1J");(0,(p=o("j1lrD")).spinnerPlay)(),window.addEventListener("load",(function(){(0,p.spinnerStop)()}));var v=new(0,a.getBookData),h=document.querySelector(".main-title__first-part"),_=document.querySelector(".main-title__second-part"),b=document.querySelector(".categories-list");function k(){(0,p.spinnerPlay)(),h.textContent="Best Sellers",_.textContent="Books";v.getPromTopBooks().then((function(t){var e=t.slice(0,4).map((function(t){var e=t.books.map((function(t){return'<li class="books-list__item">\n            <div class="item-wrap" id="'.concat(t._id,'">\n             <div class = "item-img__wrap">\n               <img class="item-img"\n                src="').concat(t.book_image,'" \n                alt="').concat("book cover photo",'" \n                width ="').concat(t.book_image_width,'" \n                height ="').concat(t.book_image_height,'"\n               />\n              </div>\n              <div class="item-title__wrap">\n                <h3 class="item__name">').concat(t.title.slice(0,30)).concat(t.title.length>30?"...":"",'</h3>\n                <p class="item__author">').concat(t.author,"</p>\n              </div>\n            </div>\n          </li>")})).join("");return'<li class="categories-list__item">\n                 <div class="categories-list__wrap">\n                   <h2 class="category">'.concat(t.list_name,'</h2>\n                   <ul class="books-list">').concat(e,'</ul>\n                   <button class="btn-see-more" id="').concat(t.list_name,'" type="button">see more</button>\n                 </div>\n                </li>')})).join("");b.insertAdjacentHTML("beforeend",e),d(),m(),(0,f.getObject)()})).catch((function(t){console.log(t)})),(0,p.spinnerStop)()}k(),o("j1lrD"),o("igOX8"),o("kmL1J");localStorage.setItem("arrey",JSON.stringify(["643282b2e85766588626a144","643282b2e85766588626a0f2","643282b3e85766588626a194","643282b2e85766588626a144","643282b2e85766588626a0f2","643282b3e85766588626a194"]))}();
//# sourceMappingURL=index.ec257064.js.map
