var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,o.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("dTazW"),o("nIDCB");var i=o("2dy3d");function s(e){const t=e.split("");let n=[];for(let e=0;e<t.length;e++){let o=t[e];" "===o&&(o="%20"),n.push(o)}return n.join("")}function l(e){const t=e.split(" ");return t.slice(0,t.length-1).join(" ")}function a(e){const t=e.split(" ");return t[t.length-1]}const c=new(0,(i=o("2dy3d")).getBookData),r=document.querySelector(".book-categories"),d=document.querySelector(".categories-list");function u(){const e=document.createElement("li");e.classList.add("category-link"),e.classList.add("all"),e.textContent="All Categories",r.append(e);let t=[];c.getPromCategoryList().then((e=>{t=e.map((e=>`<li class="category-link">${e.list_name}</li>`)).join(""),r.insertAdjacentHTML("beforeend",t);document.querySelector(".all").addEventListener("click",k)})).catch((e=>{console.log(e)}))}r.addEventListener("click",(function(e){e.preventDefault(),console.log(e.target.classList.contains("all")),d.innerHTML="";const t=e.target.innerHTML,n=document.querySelector(".category-link.active");n&&n.classList.remove("active");e.target.classList.add("active");const o=s(`${t}`);let c=[];new(0,i.getBookData)(0,o).getPromCategory().then((n=>{console.log(n),c=n.map((e=>`<div class="book-card">\n              <img class="book-image" src="${e.book_image}" alt="${e.title}">\n              <h2 class="book_name">${e.title.slice(0,20)}${e.title.length>20?"...":""}</h2>\n              <p class="book_author">${e.author.slice(0,30)}${e.author.length>30?"...":""}</p>\n            </div>`)).join(""),d.insertAdjacentHTML("beforeend",c);const o=document.querySelector(".main-title__first-part"),i=document.querySelector(".main-title__second-part");e.target.classList.contains("all")?(o.textContent="Best Sellers",i.textContent="Books"):(o.textContent=l(t),i.textContent=a(t))})).catch((e=>{console.log(e)}))}));i=o("2dy3d");const m=document.querySelector(".categories-list");function g(){const e=document.querySelectorAll(".btn-see-more");function t(e){e.preventDefault(),m.innerHTML="";const t=e.target.id,n=s(`${t}`);console.log(n);let o=[];new(0,i.getBookData)(0,n).getPromCategory().then((e=>{console.log(e),o=e.map((e=>`<div class="book-card">\n              <img class="book-image" src="${e.book_image}" alt="${e.title}">\n              <h2 class="book_name">${e.title.slice(0,20)}${e.title.length>20?"...":""}</h2>\n              <p class="book_author">${e.author.slice(0,30)}${e.author.length>30?"...":""}</p>\n            </div>`)).join(""),m.insertAdjacentHTML("beforeend",o);const n=document.querySelector(".main-title__first-part"),i=document.querySelector(".main-title__second-part");n.textContent=l(t),i.textContent=a(t)})).catch((e=>{console.log(e)}))}console.log(e),e.forEach((e=>{e.addEventListener("click",t)}))}var p=o("dLm4j");const h=new(0,i.getBookData),_=document.querySelector(".main-title__first-part"),b=document.querySelector(".main-title__second-part"),f=document.querySelector(".categories-list");function k(){_.textContent="Best Sellers",b.textContent="Books";let e=[];h.getPromTopBooks().then((t=>{e=t.slice(0,4).map((e=>{const t=e.books.map((e=>`<li class="books-list__item">\n            <div class="item-wrap" id="${e._id}">\n             <div class = "item-img__wrap">\n               <img class="item-img"\n                src="${e.book_image}" \n                alt="book cover photo" \n                width ="${e.book_image_width}" \n                height ="${e.book_image_height}"\n               />\n              </div>\n              <div class="item-title__wrap">\n                <h3 class="item__name">${e.title.slice(0,30)}${e.title.length>30?"...":""}</h3>\n                <p class="item__author">${e.author}</p>\n              </div>\n            </div>\n          </li>`)).join("");return`<li class="categories-list__item">\n                 <div class="categories-list__wrap">\n                   <h2 class="category">${e.list_name}</h2>\n                   <ul class="books-list">${t}</ul>\n                   <button class="btn-see-more" id="${e.list_name}" type="button">see more</button>\n                 </div>\n                </li>`}));const n=e.join("");f.insertAdjacentHTML("beforeend",n),u(),g(),(0,p.getObject)()})).catch((e=>{console.log(e)}))}k(),(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),o=()=>{const n="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!n),e.classList.toggle("is-open")};t.addEventListener("click",o),n.addEventListener("click",o),window.matchMedia("(min-width: 768px)").addEventListener("change",(n=>{n.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1))}))})(),o("dLm4j");localStorage.setItem("arrey",JSON.stringify(["643282b2e85766588626a144","643282b2e85766588626a0f2","643282b3e85766588626a194","643282b2e85766588626a144","643282b2e85766588626a0f2","643282b3e85766588626a194"]));
//# sourceMappingURL=index.ccf242e7.js.map
